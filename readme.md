# День 02 – Буткемп по .NET
### ООП

# Содержание
1. [Глава I](#глава-i) \
   [Общие правила](#общие-правила)
2. [Глава II](#глава-ii) \
   [Правила дня](#правила-дня)
3. [Глава III](#глава-iii) \
   [Упражнение 00 – Сколько стоит деньги?](#упражнение-00-сколько-стоит-деньги)
4. [Глава IV](#глава-iv) \
   [Упражнение 01 – Баланс работы и личной жизни](#упражнение-01-баланс-работы-и-личной-жизни)


# Глава I

## Общие правила
- Убедитесь, что у вас установлен [SDK .NET 5](<https://dotnet.microsoft.com/download>) на вашем компьютере и используйте его.
- Помните, что ваш код будет читаться! Уделяйте особое внимание проектированию кода и именованию переменных. Соблюдайте общепринятые [конвенции по стилю кода на C#](<https://docs.microsoft.com/en-us/dotnet/csharp/fundamentals/coding-style/coding-conventions>).
- Выберите свою среду разработки, которая удобна для вас.
- Программа должна запускаться из командной строки dotnet.
- Каждое упражнение содержит примеры ввода и вывода. Решение должно использовать их в качестве правильного формата.
- В начале каждой задачи приведен список разрешенных конструкций языка.
- Если находите задачу сложной, задавайте вопросы другим участникам писцины, интернету, Google или обращайтесь к StackOverflow.
- Вы можете ознакомиться с основными возможностями языка C# в [официальной спецификации](<https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/introduction>).
- Избегайте жесткого кодирования и "магических чисел".
- Демонстрируйте полное решение; правильный результат программы – это всего лишь один из способов проверки ее правильной работы. Поэтому, когда необходимо получить определенный вывод в результате работы ваших программ, запрещено показывать предварительно рассчитанный результат.
- Обратите внимание на термины, выделенные жирным шрифтом: их изучение будет полезным как при выполнении текущей задачи, так и в вашей будущей карьере .NET-разработчика.
- Приятного времяпрепровождения :)


# Глава II
## Правила дня

- Запрещено использование пакетов NuGet.
- Все проекты должны находиться в одном решении.
- Каждая из задач должна соответствовать отдельному консольному приложению, созданному на основе стандартного шаблона .NET SDK.
- Используйте **top-level-statements** и **var**.
- Имя проекта (и отдельного каталога) должно выглядеть как d{xx}_ex{yy}, где xx – цифры текущего дня, yy – цифры текущей задачи.
- Имя решения (и отдельного каталога) – d_{xx}, где xx – цифры текущего дня.
- Для форматирования выходных данных используйте культуру en-GB: N2 для вывода денежных сумм, d для дат.
- Файлы данных в упражнениях считаются правильными и не требуют проверки.


# Глава III
## Упражнение 00 – Сколько стоит деньги?

“Инженерия – это профессия, которая может выполнять работу практически всех остальных профессий.”

**― Амит Калантри, Богатство слов**

### Что нового

- Структуры
- Переопределение
- Интерполяция строк
- System.IO

### Структура проекта:
```
d02_ex00
      Program.cs
      Exchanger.cs
      Models
            ExchangeRate.cs
            ExchangeSum.cs
```

### Задача

Вы уже более опытный программист, поэтому с вашим опытом увеличивается сложность ваших задач. Вы уже руководствуетесь принципами **SOLID** в разработке и разбиваете свой код на **классы** и **структуры**.

Ваш следующий вызов - реализация конвертера валют для пар EUR-RUB, USD-RUB, EUR-USD, USD-EUR, RUB-USD, RUB-EUR. На входе программа запросит сумму в одной из разрешенных валют (EUR, RUB, USD). В ответ она отобразит таблицу, содержащую суммы, сконвертированные в другие разрешенные валюты. Для удобства мы определяем, что каждая валюта имеет свой уникальный код (EUR, RUB, USD). Для представления данных подходят **структуры**: для суммы в валюте можно определить *ExchangeSum* (сумма, идентификатор), а для информации об обмене - *ExchangeRate* (валюта "от”, валюта "в", курс обмена).

Используйте принцип **единственной ответственности**! Согласно ему ваши структуры не должны знать о других валютах и обменных курсах. Но они могут самостоятельно разбирать данные из текста или определять формат выходных данных при приведении к строке. **Переопределение** метода ToString() может вам помочь.

Информация о курсах обмена предоставляется обменником / биржей. В архиве, прикрепленном к упражнению, вы найдете файлы с коэффициентами конвертации. Предполагается, что формат данных в файле строго определен. Файлы должны обновляться ежедневно, поэтому путь к папке будет одним из аргументов ввода.

Функциональность обменника должна быть выделена в отдельный класс *Exchanger*. Он будет содержать коллекцию обменных курсов, разбирать их из файлов и выполнять конвертацию. Помните, *Exchanger* не должен знать, откуда его вызывают и для чего используется результат - не делайте его ответственным за вывод в терминал.

Если метод конвертации возвращает список возможных сумм в валюте, его использование будет намного более гибким.

Посмотрите на оператор **yield**, он может быть полезен.

|Аргумент|Тип|Описание|
|---|---|---|
| sum |строка | Сумма с указанием валюты |
|ratesDirectory | строка | Путь к папке с файлами курсов обмена|

### Формат вывода

```
Amount in the original currency: 100.00 RUB
Amount in USD: 1.36 USD
Amount in EUR: 1.11 EUR

Amount in the original currency: 100.00 EUR
Amount in USD: 81.97 USD
Amount in RUB: 8,990.38 RUB
```

### Пользователь ввел некорректные данные

```
Input error. Check the input data and repeat the request.
```

### Пример запуска приложения из папки проекта

```
$ dotnet run “100 RUB” “path/to/folder”
Amount in the original currency: 100.00 RUB
Amount in USD: 1.36 USD
Amount in EUR: 1.11 EUR
```

# Глава IV
### Упражнение 01 – Баланс работы и личной жизни

"Мой поинт в том, что жизнь - это баланс. Хорошее и плохое. Верхи и низы. Пина и колада."

**― Эллен ДеДженерес, Серьезно... Шучу**

### Что нового

- Классы, записи
- Перечисление
- Списки, массивы
- Наследование
- Полиморфизм
- Переопределение
- Строковая интерполяция

### Структура проекта:

```
d02_ex01
      Program.cs
      Tasks/
            Task.cs
            TaskType.cs
            TaskPriority.cs
            TaskState.cs

```

## Задача

Ваши рабочие часы становятся все длиннее. Ваша семья, ваша кошка и ваш любимый суккулент начинают забывать, как вы выглядите. Чтобы найти баланс между работой, учебой и личной жизнью, вы решаете создать персональный трекер задач для себя.

Подумайте о том, что представляет собой задача, чтобы мы могли разработать наше приложение, опираясь на **доменные знания**. Задача - это цель, проблема, которую нужно решить. Чтобы узнать содержание цели, нужно её описать. Чтобы найти её среди других, нужно установить заголовок. Для достижения ваших целей нужно установить сроки. Таким образом, у задачи должны быть: *заголовок*, *описание* и *срок выполнения*.

Кроме того, задачи будут гораздо удобнее навигировать, если им можно присвоить *приоритет (Low, Normal, High)* и *категорию (Work, Study, Personal)*. Здесь нам поможет **enum**.

Состояние задачи может измениться: она создается как *Новая*, после выполнения всех работ становится *Завершенной*. Кроме того, задачи, которые больше не имеют смысла выполнять, можно пометить как *Неактуальные*, чтобы вы не возвращались к ним снова. Задача может находиться только в одном статусе и переходить между ними в определенном порядке (*Завершенные* не могут стать *Неактуальными*): это звучит как **машина состояний**.

Вам нужно реализовать программу, которая позволяет создавать список задач с возможностью отображения списка, добавления новой задачи, а также отметки задачи как завершенной или неактуальной. Свойства задачи должны быть закрыты для внешних изменений. Чтобы изменить статусы, задача должна предоставить специальные методы, которые **инкапсулируют** логику изменения статуса.

### Метод 1. Создание задачи


```
> add
> Enter a title
> {title}
> Enter a description
> {summary}
> Enter the deadline
> {dueDate}
> Enter the type
> {type}
> Assign the priority
> {priority}

```
Note: статус задачи не указан во входных данных. Задача должна всегда создаваться в статусе *Новая*.

#### Входные параметры

| Аргумент | Тип | Описание |
| --- | --- | --- |
| title | string, обязательный | Заголовок задачи |
| summary | string, не обязательный | Описание того, что нужно сделать |
| dueDate | datetime (nullable), не обязательный | До какой даты запланировано завершение задачи |
| type | enum [Work, Study, Personal], обязательный | Тип задачи |
| priority | enum [Low, Normal, High], не обязательный (значение по умолчанию: Normal) | Приоритет задачи |

Обратите внимание на обязательные входные аргументы! Если параметр обязателен, вы должны проверить его на входе. Если он не обязателен, соответствующее поле в классе должно быть nullable. Помните, что string - **ссылочный тип**, и он **nullable** по умолчанию. DateTime и enum - **типы значений**, и их нужно явно указывать как nullable.

#### Формат вывода

```
{task.Title}
[{task.Type}] [{task.State}]
Priority: {task.Priority}, Due till {task.DueDate}
{task.Summary}
```

#### Формат ответа в случае отсутствия даты

```
{task.Title}
[{task.Type}] [{task.State}]
Priority: {task.Priority}
{task.Summary}
```

#### Пример ответа

```
- Water the flowers
[Personal] [New]
Priority: High, Due till 11/21/2021
Water the flowers in the kitchen and living room. Do not forget about your favorite succulent!
```
#### The user specified incorrect data
```
Input error. Check the input data and repeat the request.
```

### Метод 2. Список задач

```
> list
```


Для установки формата отображения задачи в одном месте вы можете переопределить метод ToString() задачи. Если список пуст, необходимо вывести сообщение об этом.

#### Формат вывода


```
- {task.Title}
[{task.Type}] [{task.State}]
Priority: {task.Priority}, Due till {task.DueDate}
{task.Summary}
```

#### Пустой лист
```
The task list is still empty.
```

### Пример ответа

```
- Water the flowers
[Personal] [New]
Priority: Normal, Due till 11/5/2021
Water the flowers in the kitchen and living room. Do not forget about your favorite succulent

- Finish Day 02
[Study] [Done]
Priority: High, Due till 11/21/2021
Finish all the exercises of the day 02 of the .NET piscine, upload everything to the repository.

```

### Метод 3. Завершение задачи

```
> done
> Enter a title
> {title}
```

Здесь мы обращаемся к конкретной задаче по заголовку, рассматривая его как уникальный идентификатор для упрощения.

#### Входные параметры

| Аргумент | Тип | Описание |
| --- | --- | --- |
| title | string, обязательный | Заголовок задачи, которую необходимо завершить |

#### Задача не существует
```
Input error. The task with this title was not found
```

####  Пользователь указал неверные данные

```
Input error. Check the input data and repeat the request.
```

#### Пример ответа
```
The task [Water the flowers] is completed!
```

### Метод 4. Задача неактуальна

```
> wontdo
> Enter a title
> {title}
```
Здесь мы обращаемся к конкретной задаче по заголовку, рассматривая его как уникальный идентификатор для упрощения.

#### Входные параметры

| Аргумент | Тип | Описание |
| --- | --- | --- |
| title | string, обязательный | Заголовок задачи, которую необходимо пометить как неактуальную |

#### Задача не существует
```
Input error. The task with this title was not found
```

#### Пользователь указал неверные данные
```
Input error. Check the input data and repeat the request.
```

#### Пример ответа
```
The task [Water the flowers] is no longer relevant!
```

### Выход

The application shuts down if you enter

```
> quit
```

или

```
> q
```
